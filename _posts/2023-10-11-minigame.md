---
layout: post
title: Freeplay Minigame!
description: Jump with Link!
author: Katelyn Gelle, Gabriel Gravin, Kaden Vo, Daisy Zhang
courses: {'compsci': {'week': 6}}
type: hacks
comments: True
---

**Directions**  
Freeplay with Link! Use the right arrow to make him move right, use the left arrow to make him move left, and use the space bar to jump.  

<!DOCTYPE html>
<html>
<head>
    <title>Freeplay Minigame!</title>
</head>
<body>
    <canvas id="gameCanvas" width="800" height="400"></canvas>
    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');

        const backgroundImage = new Image();
        backgroundImage.src = '/student/images/park.jpg';

        const spriteImage = new Image();
        spriteImage.src = '/student/images/linksprites.png';

        let spriteX = 100;
        let spriteY = canvas.height - spriteImage.height;
        let spriteVelocityY = 0;

        const gravity = 0.5;
        const jumpStrength = -10;
        let isJumping = false;

        function gameLoop() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.drawImage(backgroundImage, 0, 0, canvas.width, canvas.height);

            spriteVelocityY += gravity;
            spriteY += spriteVelocityY;

            if (spriteY >= canvas.height - spriteImage.height) {
                spriteY = canvas.height - spriteImage.height;
                spriteVelocityY = 0;
                isJumping = false;
            }

            ctx.drawImage(spriteImage, spriteX, spriteY);

            requestAnimationFrame(gameLoop);
        }

        window.addEventListener('keydown', (event) => {
            if (event.key === ' ' && !isJumping) {
                spriteVelocityY = jumpStrength;
                isJumping = true;
            }
        });

        // Wait for both images to load
        backgroundImage.onload = () => {
            console.log("Background image loaded");  // Add a console log to check if the background image loads
            spriteImage.onload = () => {
                console.log("Sprite image loaded");      // Add a console log to check if the sprite image loads
                gameLoop();
            };
        };
    </script>
</body>
</html>